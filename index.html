</div>
    <div id="shopGame" class="game-container">
      <div class="nav-buttons">
        <button class="nav-button" onclick="showScreen('home')">In√≠cio</button>
        <button class="nav-button" onclick="restartGame()">Reiniciar</button>
      </div>
      <h2>Loja a partir de R$10</h2>
      <h3>Escolha seus itens com consci√™ncia!</h3>
      <div class="info-box">
        <div class="info-card">
          <div>Saldo Atual</div>
          <div id="currentBalance">R$ 1.518,00</div>
        </div>
        <div class="info-card">
          <div>Gastos Totais</div>
          <div id="currentDebt">R$ 0,00</div>
        </div>
      </div>
      <div class="emoji-grid" id="emojiGrid"></div>
      <div class="decision-buttons">
        <button id="stopButton" class="decision-button" onclick="stopGame()">Finalizar Compras</button>
      </div>
      <div id="resultMessage" class="result-message" style="display: none;"></div>
    </div>
    <div id="budgetGame" class="game-container">
      <div class="nav-buttons">
        <button class="nav-button" onclick="showScreen('home')">In√≠cio</button>
      </div>
      <h2>Simula√ß√£o 50-30-20</h2>
      <p>Insira sua renda mensal e veja como dividir seu or√ßamento:</p>
      <input type="number" id="rendaInput" class="simulador-input" placeholder="Digite sua renda mensal" oninput="calcularSimulacao()" />
      <div class="simulador-result" id="resultadoSimulador"></div>
    </div>
    <div id="prioridadesGame" class="game-container">
      <div class="nav-buttons">
        <button class="nav-button" onclick="showScreen('home')">In√≠cio</button>
        <button class="nav-button" onclick="startPrioridades()">Reiniciar</button>
      </div>
      <h2>Desafio das Prioridades</h2>
      <h3>Arraste cada gasto para a categoria correta!</h3>
      <div style="margin-bottom:18px;font-size:1rem;">Necessidades: essenciais para viver. <br>Desejos: podem ser adiados ou evitados.</div>
      <div id="prioridades-draggables" style="margin-bottom:16px;"></div>
      <div>
        <div class="dropzone" id="dz-necessidades" ondragover="event.preventDefault()" ondrop="dropPrioridade(event, 'necessidades')">
          <div class="dropzone-label">Necessidades</div>
          <div id="dz-necessidades-items"></div>
        </div>
        <div class="dropzone" id="dz-desejos" ondragover="event.preventDefault()" ondrop="dropPrioridade(event, 'desejos')">
          <div class="dropzone-label">Desejos</div>
          <div id="dz-desejos-items"></div>
        </div>
      </div>
      <div class="decision-buttons">
        <button class="decision-button" style="background:#4caf50;color:#fff;" onclick="verificaPrioridades()">Verificar</button>
      </div>
      <div id="prioridades-feedback" class="result-message" style="display:none"></div>
    </div>
    <div id="quizGame" class="game-container">
      <div class="nav-buttons">
        <button class="nav-button" onclick="showScreen('home')">In√≠cio</button>
        <button class="nav-button" onclick="startQuiz()">Reiniciar</button>
      </div>
      <h2>Quiz de Verdadeiro ou Falso</h2>
      <div id="quiz-question" class="quiz-question"></div>
      <div class="decision-buttons">
        <button class="decision-button" style="background:#4caf50;color:#fff;" onclick="responderQuiz(true)">Verdadeiro</button>
        <button class="decision-button" style="background:#e53935;color:#fff;" onclick="responderQuiz(false)">Falso</button>
      </div>
      <div id="quiz-feedback" class="result-message" style="display:none"></div>
      <div class="result-message" id="quiz-score" style="display:none"></div>
    </div>
    <div id="jurosGame" class="game-container">
      <div class="nav-buttons">
        <button class="nav-button" onclick="showScreen('home')">In√≠cio</button>
        <button class="nav-button" onclick="startJuros()">Reiniciar</button>
      </div>
      <h2>Jogo dos Juros</h2>
      <h3>Escolha: pagar √† vista ou parcelar?</h3>
      <div id="juros-pergunta" style="margin:18px 0;font-size:1.1rem;"></div>
      <div class="decision-buttons" id="juros-opcoes"></div>
      <div class="decision-buttons">
        <button class="decision-button" id="juros-next-btn" style="background:#4caf50;color:#fff;display:none;" onclick="proximaPerguntaJuros()">Pr√≥xima Pergunta</button>
      </div>
      <div id="juros-feedback" class="result-message" style="display:none"></div>
      <div id="juros-orientacao" class="result-message" style="display:none"></div>
    </div>
    <div id="orcamentoGame" class="game-container">
      <div class="nav-buttons">
        <button class="nav-button" onclick="showScreen('home')">In√≠cio</button>
        <button class="nav-button" onclick="startOrcamento()">Reiniciar</button>
      </div>
      <h2>Monte seu Or√ßamento</h2>
      <p>Distribua uma renda fict√≠cia de <strong>R$ 1.518,00</strong> entre as categorias abaixo:</p>
      <form id="orcamento-form" onsubmit="return false;">
        <div class="budget-category">Moradia<br><input type="number" min="0" class="budget-input" id="input-moradia" value="0" /></div>
        <div class="budget-category">Alimenta√ß√£o<br><input type="number" min="0" class="budget-input" id="input-alimentacao" value="0" /></div>
        <div class="budget-category">Lazer<br><input type="number" min="0" class="budget-input" id="input-lazer" value="0" /></div>
        <div class="budget-category">Transporte<br><input type="number" min="0" class="budget-input" id="input-transporte" value="0" /></div>
        <div class="budget-category">Educa√ß√£o<br><input type="number" min="0" class="budget-input" id="input-educacao" value="0" /></div>
        <div class="budget-category">Poupan√ßa<br><input type="number" min="0" class="budget-input" id="input-poupanca" value="0" /></div>
        <div style="margin-top:12px;">
          <button class="decision-button" style="background:#4caf50;color:#fff;" onclick="verificaOrcamento()">Verificar</button>
        </div>
      </form>
      <div id="orcamento-feedback" class="budget-feedback"></div>
    </div>
  </div>
  <script>
    // Loja
    const allEmojis = ['üì±','üëï','üëñ','üëü','üéÆ','üìö','üçé','üçï','‚òï','üéÅ','üíé','‚úàÔ∏è','üé∏','‚öΩ','üíª','‚åö','üï∂Ô∏è','üß¢','üéß','üçø'];
    const emojiPrices = {
      'üì±': 120.00, 'üëï': 40.00, 'üëñ': 60.00, 'üëü': 80.00, 'üéÆ': 200.00, 'üìö': 30.00, 'üçé': 3.00, 'üçï': 25.00,
      '‚òï': 6.50, 'üéÅ': 90.00, 'üíé': 500.00, '‚úàÔ∏è': 450.00, 'üé∏': 350.00, '‚öΩ': 45.00, 'üíª': 1200.00, '‚åö': 150.00,
      'üï∂Ô∏è': 70.00, 'üß¢': 35.00, 'üéß': 180.00, 'üçø': 12.00
    };
    const gameState = {
      currentGame: null,
      shop: { initialBalance: 1518, currentBalance: 1518, debt: 0, itemsPurchased: 0, currentEmojis: [] }
    };
    function showScreen(screenId) {
      document.querySelectorAll('.game-container').forEach(el => el.classList.remove('active'));
      document.getElementById(screenId + 'Screen').classList.add('active');
    }
    function startGame(gameType) {
      gameState.currentGame = gameType;
      document.querySelectorAll('.game-container').forEach(el => el.classList.remove('active'));
      if (gameType === 'shop') { document.getElementById('shopGame').classList.add('active'); startShopGame(); }
      else if (gameType === 'budget') { document.getElementById('budgetGame').classList.add('active'); }
      else if (gameType === 'prioridades') { document.getElementById('prioridadesGame').classList.add('active'); startPrioridades(); }
      else if (gameType === 'quiz') { document.getElementById('quizGame').classList.add('active'); startQuiz(); }
      else if (gameType === 'juros') { document.getElementById('jurosGame').classList.add('active'); startJuros(); }
      else if (gameType === 'orcamento') { document.getElementById('orcamentoGame').classList.add('active'); startOrcamento(); }
    }
    function restartGame() {
      if (gameState.currentGame === 'shop') startShopGame();
    }
    function startShopGame() {
      gameState.shop = { initialBalance: 1518, currentBalance: 1518, debt: 0, itemsPurchased: 0, currentEmojis: [] };
      selectNewEmojis(5);
      updateShopDisplay();
      document.getElementById('resultMessage').style.display = 'none';
    }
    function selectNewEmojis(count) {
      const available = [...allEmojis];
      gameState.shop.currentEmojis = [];
      for (let i = 0; i < count && available.length > 0; i++) {
        const idx = Math.floor(Math.random() * available.length);
        gameState.shop.currentEmojis.push(available[idx]);
        available.splice(idx, 1);
      }
      updateEmojiDisplay();
    }
    function updateEmojiDisplay() {
      const grid = document.getElementById('emojiGrid');
      grid.innerHTML = '';
      gameState.shop.currentEmojis.forEach(emoji => {
        const el = document.createElement('div');
        el.className = 'emoji-item';
        el.innerHTML = `<div>${emoji}</div><div class="price-tag">R$ ${emojiPrices[emoji].toFixed(2).replace('.', ',')}</div>`;
        el.onclick = () => buyItem(emoji);
        grid.appendChild(el);
      });
    }
    function updateShopDisplay() {
      document.getElementById('currentBalance').textContent = `R$ ${gameState.shop.currentBalance.toFixed(2).replace('.', ',')}`;
      document.getElementById('currentDebt').textContent = `R$ ${gameState.shop.debt.toFixed(2).replace('.', ',')}`;
    }
    function buyItem(emoji) {
      const price = emojiPrices[emoji];
      if (gameState.shop.currentBalance < price) {
        alert('Saldo insuficiente!');
        return;
      }
      gameState.shop.currentBalance -= price;
      gameState.shop.debt += price;
      gameState.shop.itemsPurchased++;
      selectNewEmojis(5);
      updateShopDisplay();
    }
    function stopGame() {
      const perc = (gameState.shop.debt / gameState.shop.initialBalance * 100).toFixed(1);
      const msg = document.getElementById('resultMessage');
      let feedback = "";
      if (perc <= 30) feedback = "Excelente! Voc√™ manteve seus gastos com desejos dentro de um limite saud√°vel.";
      else if (perc <= 50) feedback = "Aten√ß√£o! Voc√™ ultrapassou o limite recomendado (30%) para desejos. Tente se controlar mais.";
      else feedback = "Cuidado! Voc√™ comprometeu uma grande parte da sua renda com desejos. Isso pode gerar d√≠vidas!";
      msg.innerHTML = `
        <p>Voc√™ comprou ${gameState.shop.itemsPurchased} itens, gastando R$ ${gameState.shop.debt.toFixed(2).replace('.', ',')}</p>
        <p>Isso representa ${perc}% da sua renda</p>
        <p><strong>${feedback}</strong></p>`;
      msg.style.display = 'block';
    }
    function calcularSimulacao() {
      const valor = parseFloat(document.getElementById('rendaInput').value);
      const container = document.getElementById('resultadoSimulador');
      if (isNaN(valor) || valor <= 0) {
        container.innerHTML = '';
        return;
      }
      const n = (valor * 0.5).toFixed(2).replace('.', ',');
      const d = (valor * 0.3).toFixed(2).replace('.', ',');
      const p = (valor * 0.2).toFixed(2).replace('.', ',');
      container.innerHTML = `
        <div class="simulador-box"><strong>50%</strong><br>Necessidades: R$ ${n}</div>
        <div class="simulador-box"><strong>30%</strong><br>Desejos: R$ ${d}</div>
        <div class="simulador-box"><strong>20%</strong><br>Poupan√ßa: R$ ${p}</div>`;
    }
    // Prioridades
    const prioridadesGastos = [
      { nome: "Aluguel", cat: "necessidades" },
      { nome: "Internet", cat: "necessidades" },
      { nome: "Cinema", cat: "desejos" },
      { nome: "Supermercado", cat: "necessidades" },
      { nome: "Restaurante caro", cat: "desejos" },
      { nome: "Plano de sa√∫de", cat: "necessidades" },
      { nome: "T√™nis novo", cat: "desejos" },
      { nome: "Energia el√©trica", cat: "necessidades" }
    ];
    let prioridadesEmbaralhadas = [];
    let prioridadesResposta = { necessidades: [], desejos: [] };
    function startPrioridades() {
      document.getElementById('prioridades-feedback').style.display = 'none';
      prioridadesEmbaralhadas = prioridadesGastos.slice().sort(() => Math.random() - 0.5);
      prioridadesResposta = { necessidades: [], desejos: [] };
      renderPrioridades();
    }
    function renderPrioridades() {
      const draggablesDiv = document.getElementById('prioridades-draggables');
      draggablesDiv.innerHTML = '';
      prioridadesEmbaralhadas.forEach((item,i) => {
        if (
          !prioridadesResposta.necessidades.includes(item.nome) &&
          !prioridadesResposta.desejos.includes(item.nome)
        ) {
          const el = document.createElement('div');
          el.className = 'draggable';
          el.draggable = true;
          el.textContent = item.nome;
          el.id = 'drag-'+i;
          el.ondragstart = (e) => { e.dataTransfer.setData('text', item.nome); };
          draggablesDiv.appendChild(el);
        }
      });
      ['necessidades','desejos'].forEach(cat=>{
        const dz = document.getElementById('dz-'+cat+'-items');
        dz.innerHTML = '';
        prioridadesResposta[cat].forEach(n=>{
          const el = document.createElement('div');
          el.className = 'draggable';
          el.textContent = n;
          el.draggable = false;
          el.style.opacity = 0.7;
          dz.appendChild(el);
        });
      });
    }
    function dropPrioridade(ev, cat) {
      ev.preventDefault();
      const nome = ev.dataTransfer.getData('text');
      if (!prioridadesResposta[cat].includes(nome)) {
        prioridadesResposta[cat].push(nome);
        renderPrioridades();
      }
    }
    function verificaPrioridades() {
      let acertos = 0;
      let total = prioridadesGastos.length;
      prioridadesGastos.forEach(item=>{
        if (prioridadesResposta[item.cat].includes(item.nome)) acertos++;
      });
      let msg = `Voc√™ classificou corretamente ${acertos} de ${total} gastos.<br>`;
      if (acertos === total) msg += "Parab√©ns! Tudo certo!";
      else if (acertos >= total-2) msg += "Muito bom! S√≥ pequenos ajustes.";
      else msg += "Tente novamente para melhorar seu resultado.";
      const fb = document.getElementById('prioridades-feedback');
      fb.innerHTML = msg;
      fb.style.display = 'block';
    }
    // Quiz
    const quizQuestoes = [
      {
        pergunta: "Guardar dinheiro s√≥ vale a pena se for muito.",
        resposta: false,
        explicacao: "Guardar qualquer valor √© importante, mesmo que pequeno. O h√°bito conta!"
      },
      {
        pergunta: "Cart√£o de cr√©dito √© dinheiro extra.",
        resposta: false,
        explicacao: "Cart√£o de cr√©dito √© uma forma de pagamento, n√£o dinheiro a mais."
      },
      {
        pergunta: "Ter uma reserva de emerg√™ncia ajuda a evitar d√≠vidas.",
        resposta: true,
        explicacao: "Uma reserva cobre imprevistos sem precisar recorrer a empr√©stimos."
      },
      {
        pergunta: "Investir sempre envolve algum risco.",
        resposta: true,
        explicacao: "Todo investimento tem riscos, mesmo os mais conservadores."
      },
      {
        pergunta: "Juros compostos fazem o dinheiro render mais ao longo do tempo.",
        resposta: true,
        explicacao: "Juros compostos aumentam o rendimento ao reinvestir os ganhos."
      },
      {
        pergunta: "√â seguro compartilhar senhas banc√°rias com amigos.",
        resposta: false,
        explicacao: "Jamais compartilhe suas senhas! √â perigoso e pode causar preju√≠zos."
      }
    ];
    let quizIndex = 0, quizScore = 0;
    function startQuiz() {
      quizIndex = 0;
      quizScore = 0;
      document.getElementById('quiz-feedback').style.display = 'none';
      document.getElementById('quiz-score').style.display = 'none';
      renderQuiz();
    }
    function renderQuiz() {
      if (quizIndex >= quizQuestoes.length) {
        document.getElementById('quiz-question').textContent = '';
        document.getElementById('quiz-score').innerHTML = `Voc√™ acertou <strong>${quizScore} de ${quizQuestoes.length}</strong>!`;
        document.getElementById('quiz-score').style.display = 'block';
        return;
      }
      document.getElementById('quiz-question').textContent = quizQuestoes[quizIndex].pergunta;
    }
    function responderQuiz(v) {
      if (quizIndex >= quizQuestoes.length) return;
      const certa = quizQuestoes[quizIndex].resposta === v;
      const explicacao = quizQuestoes[quizIndex].explicacao;
      let fb = document.getElementById('quiz-feedback');
      fb.innerHTML = (certa ? "Correto! " : "Errado! ") + explicacao;
      fb.style.background = certa ? "#e6f4ea" : "#ffebee";
      fb.style.color = certa ? "#2e7d32" : "#b71c1c";
      fb.style.display = "block";
      if (certa) quizScore++;
      quizIndex++;
      setTimeout(()=>{
        fb.style.display = 'none';
        renderQuiz();
      }, 1700);
    }
    // Juros
    const jurosItens = [
      {
        nome: "Celular",
        preco: 1500,
        parcelas: 10,
        jurosMes: 0.037,
      },
      {
        nome: "T√™nis",
        preco: 400,
        parcelas: 5,
        jurosMes: 0.025,
      },
      {
        nome: "Fog√£o",
        preco: 900,
        parcelas: 8,
        jurosMes: 0.03,
      },
      {
        nome: "Notebook",
        preco: 2500,
        parcelas: 12,
        jurosMes: 0.035,
      },
      {
        nome: "Bicicleta",
        preco: 1200,
        parcelas: 6,
        jurosMes: 0.028,
      },
      {
        nome: "Sof√°",
        preco: 2000,
        parcelas: 10,
        jurosMes: 0.032,
      }
    ];
    let jurosAtivo = 0;
    let jurosPerguntaAtual = 0;
    function startJuros() {
      jurosPerguntaAtual = 0;
      document.getElementById('juros-feedback').style.display = 'none';
      document.getElementById('juros-orientacao').style.display = 'none';
      document.getElementById('juros-next-btn').style.display = 'none';
      renderJuros();
    }
    function renderJuros() {
      if (jurosPerguntaAtual >= jurosItens.length) {
        document.getElementById('juros-pergunta').innerHTML = '';
        document.getElementById('juros-opcoes').innerHTML = '';
        document.getElementById('juros-next-btn').style.display = 'none';
        document.getElementById('juros-feedback').style.display = 'none';
        document.getElementById('juros-orientacao').style.display = 'block';
        document.getElementById('juros-orientacao').innerHTML = `<strong>Orienta√ß√£o:</strong><br>
        O pagamento √† vista geralmente √© mais vantajoso, pois evita juros e d√≠vidas futuras. 
        Ao parcelar, o valor total pago costuma ser maior por conta dos juros. Sempre verifique o valor final antes de decidir.`;
        return;
      }
      document.getElementById('juros-orientacao').style.display = 'none';
      jurosAtivo = jurosPerguntaAtual;
      document.getElementById('juros-feedback').style.display = 'none';
      document.getElementById('juros-next-btn').style.display = 'none';
      const item = jurosItens[jurosAtivo];
      document.getElementById('juros-pergunta').innerHTML =
        `Voc√™ quer comprar um <strong>${item.nome}</strong> que custa <strong>R$ ${item.preco.toFixed(2).replace('.',',')}</strong>.<br>Voc√™ pode pagar √† vista ou em ${item.parcelas}x com juros de ${(item.jurosMes*100).toFixed(1)}% ao m√™s. Como prefere pagar?`;
      const opcoes = document.getElementById('juros-opcoes');
      opcoes.innerHTML = '';
      const btn1 = document.createElement('button');
      btn1.className = 'decision-button';
      btn1.style.background = '#4caf50'; btn1.style.color = '#fff';
      btn1.textContent = '√Ä vista';
      btn1.onclick = ()=>respondeJuros('avista');
      opcoes.appendChild(btn1);
      const btn2 = document.createElement('button');
      btn2.className = 'decision-button';
      btn2.style.background = '#1976d2'; btn2.style.color = '#fff';
      btn2.textContent = `Parcelado (${item.parcelas}x)`;
      btn2.onclick = ()=>respondeJuros('parcelado');
      opcoes.appendChild(btn2);
    }
    function respondeJuros(op) {
      const item = jurosItens[jurosAtivo];
      let msg = '';
      if (op === 'avista') {
        msg = `Voc√™ pagou <strong>R$ ${item.preco.toFixed(2).replace('.',',')}</strong> √† vista, sem juros!`;
      } else {
        const vf = item.preco * Math.pow(1+item.jurosMes, item.parcelas);
        msg = `Parcelado, voc√™ pagar√° <strong>R$ ${vf.toFixed(2).replace('.',',')}</strong> no total.<br>
        Ou seja, pagar√° <strong>R$ ${(vf-item.preco).toFixed(2).replace('.',',')}</strong> a mais em juros.`;
      }
      const fb = document.getElementById('juros-feedback');
      fb.innerHTML = msg;
      fb.style.display = 'block';
      document.getElementById('juros-next-btn').style.display = 'inline-block';
    }
    function proximaPerguntaJuros() {
      jurosPerguntaAtual++;
      renderJuros();
    }
    // Or√ßamento
    const orcamentoLimite = 1518;
    function startOrcamento() {
      document.getElementById('orcamento-feedback').textContent = '';
      ['moradia','alimentacao','lazer','transporte','educacao','poupanca'].forEach(cat=>{
        document.getElementById('input-'+cat).value = 0;
        document.getElementById('input-'+cat).oninput = orcamentoInputHandler;
      });
    }
    function orcamentoInputHandler() {
      const inputs = [
        'moradia','alimentacao','lazer','transporte','educacao','poupanca'
      ].map(cat=>document.getElementById('input-'+cat));
      let valores = inputs.map(input=>parseInt(input.value)||0);
      let soma = valores.reduce((a,b)=>a+b,0);
      if (soma > orcamentoLimite) {
        let diff = soma - orcamentoLimite;
        let inputAtual = this;
        let novoValor = Math.max(0, parseInt(inputAtual.value) - diff);
        inputAtual.value = novoValor;
        valores = inputs.map(input=>parseInt(input.value)||0);
        soma = valores.reduce((a,b)=>a+b,0);
      }
      const restante = orcamentoLimite - soma;
      document.getElementById('orcamento-feedback').innerHTML = `Voc√™ ainda tem <strong>R$ ${restante.toFixed(2).replace('.',',')}</strong> para distribuir.`;
    }
    function verificaOrcamento() {
      const renda = orcamentoLimite;
      const valores = {
        moradia: Number(document.getElementById('input-moradia').value),
        alimentacao: Number(document.getElementById('input-alimentacao').value),
        lazer: Number(document.getElementById('input-lazer').value),
        transporte: Number(document.getElementById('input-transporte').value),
        educacao: Number(document.getElementById('input-educacao').value),
        poupanca: Number(document.getElementById('input-poupanca').value)
      };
      const total = Object.values(valores).reduce((a,b)=>a+b,0);
      let msg = '';
      if (total < renda) msg = `Voc√™ ainda tem <strong>R$ ${(renda-total).toFixed(2).replace('.',',')}</strong> para distribuir.`;
      else if (total > renda) msg = `Voc√™ ultrapassou a renda em <strong>R$ ${(total-renda).toFixed(2).replace('.',',')}</strong>!`;
      else msg = "√ìtimo! Voc√™ distribuiu exatamente sua renda.";
      let dicas = [];
      if (valores.moradia+valores.alimentacao > renda*0.6) dicas.push("Tente gastar at√© 60% com moradia e alimenta√ß√£o.");
      if (valores.lazer > renda*0.2) dicas.push("Cuidado para n√£o exagerar nos gastos com lazer (m√°x 20%).");
      if (valores.poupanca < renda*0.1) dicas.push("Tente poupar pelo menos 10% da renda.");
      document.getElementById('orcamento-feedback').innerHTML = msg + (dicas.length? "<br>Dicas: "+dicas.join(" ") : "");
    }
  </script>
</body>
</html>
